<!DOCTYPE html>
<html lang="en">
<head>
	<title>Multimodal Route Planner</title>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
 	 <!script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?sensor=false"><!/script>
	 <script async defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBw-BW9w0Cxt0WC2AC2EaF3lNiv3ArachM&libraries=places"></script>
    <script src="./googlemap.js"></script>
	 <link rel="stylesheet" href="index.css"> 
</head>
<body onload="googleMapCallback();" id="main">

<div class="jumbotron text-center" style="background-color:#034200;">
	<div style="transform: scale(1);" id='mmrpHEADGLOBAL'>
	<h1 style="color:#FFF" id='mmrpHeadID' >
		<img src="./img/ic_logo_teliko-web1.png" alt="logo" class="logoHeader" style="width:10vw;height:15vh"/>Multimodal Route Planner
		<h4 text-align:right; style="color:#FFF" id='mmrpHeadID2'>Plan your trip in Western <br/> Greece and Puglia!</h4>
	</h1>
	</div>

</div>

<div class="container-fluid">
  <div class="row">
    <div class="col-sm-3" style="width:450px; max-width:450px;" id="buttonsID">
				<p><a href="#profileModal" data-toggle="modal"
								 data-target="#profileModal" id="userLoginLink">Login</a> |
								 
				<a href="#langModal" data-toggle="modal"
								 data-target="#langModal" id="userLangLink" >Language </a> |
				<!--a href="" >MMRP Evaluation</a> |
				<a href="" >Report a bug</a--> 
				<a href="https://docs.google.com/forms/d/e/1FAIpQLScqv2X7s0el8Ui4h2uuf4cfHBacKfODRI0Z5LHDH44hZ-_t2A/viewform" id="mmrEvaluation">
					MMRP Evaluation</a> |
				<a id='repBug' href="https://www.interreginvestment.eu/investment-mmr-bug-report/?fbclid=IwAR3CrFTOcV0EV7n3OXf_t5IXjplNgLqaViuSAmI5_VR36ewXH-7zzl9BAyw" >Report a bug</a> |
				<a id='feedback' href="mailto:investment-info@ceid.upatras.gr?subject=INVESTMENT MMRP - Feedback&body=Hello, my comments about the APP are the following">Feedback</a>
				</p>
				<! buttons>
				<div class="btn-group btn-group-lg">
					<button id='trainButton' type="button" class="btn btn-primary" style="background-color:#d8d8d8;z-index:0;"><img src="./img/rail.png" alt='Public' width="30px" height="30px"></button>
					<button id='carButton' type="button" class="btn btn-primary" style="background-color:#d8d8d8;z-index:0;"><img src="./img/car.png" alt='Car' width="30px" height="30px"></button>
					<button id='walkButton' type="button" class="btn btn-primary" style="background-color:#d8d8d8;z-index:0;"><img src="./img/walk.png" alt='Walk' width="30px" height="30px"></button>
					<button   id='hybridButton' type="button" class="btn btn-primary" data-toggle="modal"
								 data-target="#buttonCheckModal" style="background-color:#d8d8d8;z-index:0;">
								 <img src="./img/pubcar.png" alt='Hybrid' width="30px" height="30px">
					</button>

					<button  id='settingsButton' onclick="openNav()" type="button" class="btn btn-primary"
								 style="background-color:#d8d8d8;z-index:0;">
								 <img src="./img/settings2.png" alt='Settings' width="30px" height="30px">

					</button>

					


				</div>
	
				<!-- Modal -->
				  <div class="modal fade"  id="buttonCheckModal" role="dialog">
					 <div class="modal-dialog">
					 
						<!-- Modal content-->
						<div class="modal-content">
						  <div class="modal-header">
							 <h4 class="modal-title" id='buttonCheckModalinnerPar'>Which route legs do you wish to be connected with car directions?</h4>
						  </div>
						  <div class="modal-body">
								<!form id="buttonCheckBox">
								<form>
									<input type='radio' class='radio-button' id="tmpmod1" name="tmpmod" value="pc">
										<label for="tmpmod1" id='lastLeg'> Last Leg </label><br>
									<input type='radio' class='radio-button' id="tmpmod2" name="tmpmod" value="cpc">
										<label for="tmpmod2" id='bothLegs'> Both Legs </label><br>
									<input type='radio' class='radio-button' id="tmpmod3" name="tmpmod" value="cp">
										<label for="tmpmod3" id='firstLeg'> First Leg  </label><br>
								  <input type="button" value="Submit" id="hybridChoices" class="btn btn-default">
								</form>
	
						  </div>
						</div>
					 </div>
				</div>

				<! user profile using iframe>
				<!--div class="modal" tabindex="-1" role="dialog" id="profileModal" style="height:100vh;width:100vw;">
				  <div class="modal-dialog" style="height:80vh;width:80vw;">
					 <div class="modal-content" style="height:80vh;width:80vw;">
						<div class="modal-header">
						  <button type="button" class="close" data-dismiss="modal" aria-label="Close">
							 <span aria-hidden="true">&times;</span>
						  </button>
						</div>
						<div class="modal-body" style="height:80vh;width:80vw;">
						  <iframe src="https://www.investment.upatras.gr/webui/" style="height:72vh;width:78vw;zoom:0.60;"></iframe>
						</div>
					 </div>
				  </div>
				</div-->

				  <!-- Language Modal -->
				  <div class="modal"  id="langModal" role="dialog">
					 <div class="modal-dialog">
					   <!-- Modal content-->
						<div class="col-md-6 col-md-offset-3">
						<!--h1 class="text-center text-bold mt-4x">Log in</h1-->
						<div class="well row pt-2x pb-3x bk-light">
						 	<button type="button" class="close" aria-label="Close" onclick='$("#langModal").modal("hide");'>
							  <span aria-hidden="true">&times;</span>
							</button>
							<div class="col-md-8 col-md-offset-2">
							<div class="modal-body">
								<!form id="buttonCheckBox">
								<form>
									<input type='radio' class='radio-button' id="englLang" name="lang" value="english" checked>
										<label for="englLang"> English </label><br>
									<input type='radio' class='radio-button' id="grLang" name="lang" value="greek">
										<label for="grLang"> Greek </label><br>
									<input type='radio' class='radio-button' id="itLang" name="lang" value="italian">
										<label for="itLang"> Italian </label><br>
									<button id='langSaveButton' type="button" class="btn btn-primary" style="background-color:#d8d8d8;z-index:0;" onclick="changeLang();return false;">
												Save</button>
										
								</form>
						  </div>
							
							</div>
						</div>
					</div>
				 </div>
				</div>


				  <!-- Profile sign in Modal -->
				  <div class="modal"  id="profileModal" role="dialog">
					 <div class="modal-dialog">
					   <!-- Modal content-->
						<div class="col-md-6 col-md-offset-3">
						<!--h1 class="text-center text-bold mt-4x">Log in</h1-->
						<div class="well row pt-2x pb-3x bk-light">
						 	<button type="button" class="close" aria-label="Close" onclick='$("#profileModal").modal("hide");'>
							  <span aria-hidden="true">&times;</span>
							</button>

							<div class="col-md-8 col-md-offset-2">
							
							  <! if not logged in>
							  <div id="noLoggedIn" style="display:block">
							  <form method="post">
									<label for="" class="text-uppercase text-sm" id="noLoggedInEmailorUsername">Email or Username</label>
									<input id="username" type="text" placeholder="Username" name="email" class="form-control mb" required>
									<label for="" class="text-uppercase text-sm" id="noLoggedInEmailorPassword">Password</label>
									<input id="userpass" type="password" placeholder="Password" name="password" class="form-control mb" required>

									<!button class="btn btn-primary btn-block" name="login" type="submit" action="./logInForm.php" method="post">
									<button class="btn btn-primary btn-block" id="login" name="login" type="submit" onclick="userLogInSubmit();return false">LOGIN</button>
								</form>

								<br>
								<p><p id="dontHaveAnAcount">Don't Have an Account? </p><br> <a type="button" class="btn btn-default" data-toggle="modal"
								 data-target="#createProfileModal" data-dismiss="modal" id="signUpAccount">Sign up</a>
								</p>
								</div>
								<! if logged in>
								<div id="LoggedIn" style="display:none">
									<div id="LoggedInInside">

									</div>			
									<button class="btn btn-default" onclick="userLogOut()" id='logOutButton'> Log out </button>
									<button class="btn btn-default" data-toggle="modal" data-target="#editProfileModal" data-dismiss="modal" id='editProfileButton'>
											 Edit Profile
									</button>
								</div>
							</div>
						</div>
					</div>
				 </div>
				</div>



				 <div class="modal"  id="editProfileModal" role="dialog">
					<div class="modal-dialog">
				        <div class="hr-dashed"></div>
							 	<button type="button" class="close" aria-label="Close" onclick='$("#editProfileModal").modal("hide");'>
								  <span aria-hidden="true">&times;</span>
								</button>
							 
								<div class="well row pt-2x pb-3x bk-light text-center">
									<form>
									  <label for="editname" id='editProfileName'>Name:</label><br>
									  <input type="text" id="editname" name="editname"><br>

									  <label for="editemail" id='editProfileEmail'>Email:</label><br>
									  <input type="text" id="editemail" name="editemail"><br><br>

									  <label for="editCity" id='editProfileCity'>City:</label><br>
									  <input type="text" id="editCity" name="editCity"><br><br>

									  <label for="editCountry" id='editProfileCountry'>Country:</label><br>
									  <input type="text" id="editCountry" name="editCountry"><br><br>

									  <button value="Register" id='editProfileRegister' onclick="editProfileInfo();return false;">Register</button>
									</form> 
								</div>
					</div>
				</div>
	
				<! on submit call js function>
				 <!-- Profile sign in Modal -->
				<div class="modal"  id="createProfileModal" role="dialog">
					<div class="modal-dialog">
              		<div class="hr-dashed"></div>
						<div class="well row pt-2x pb-3x bk-light text-center">

	 				   <!button type="button" class="close" aria-label="Close" onclick='document.getElementById("signInButton").click();$("#profileModal").modal("hide");'>
					   <button type="button" class="close" aria-label="Close" onclick='$("#createProfileModal").modal("hide");'>
							  <span>&times;</span>
					   </button>
								<form>
								  <label for="SUname" id='SUname'>Name:</label><br>
								  <input type="text" id="SUname" name="SUname"><br>

								  <label for="SUpass" id='SUpass'>Password:</label><br>
								  <input type="password" id="SUpass" name="SUpass"><br><br>

								  <label for="SUpassConf" id='SUpassConf' >Confirm Password:</label><br>
								  <input type="password" id="SUpassConf" name="SUpassConf"><br><br>

								  <label for="SUemail" id='SUemail'>Email:</label><br>
								  <input type="text" id="SUemail" name="SUemail"><br><br>

								  <label for="SUCountry" id='SUCountry'>Country:</label><br>
								  <input type="text" id="SUCountry" name="SUCountry"><br><br>

								  <label for="SUCity" id='SUCity' >City:</label><br>
								  <input type="text" id="SUCity" name="SUCity"><br><br>

								  <button value="Register" id='SURegister' onclick="userSignup();return false;">Register</button>
								</form> 


                                <br>
                                <br>
								<p><p id='alreadyHaveAccount'>Already Have Account?</p> <br>
								<button class="btn btn-default" id="signInButton" data-toggle="modal" data-target="#profileModal" data-dismiss="modal"> Sign in </button>
								</p>
						</div>
					</div>
				</div>

				


				<script>
					document.getElementById("trainButton").onclick = function(){
						
												updateMod('pub');
												resetButtonColor();
												document.getElementById("trainButton").style.backgroundColor="#034200";

												return false;
											};

					document.getElementById("walkButton").onclick = function(){
												updateMod('walk');
												resetButtonColor();
												document.getElementById("walkButton").style.backgroundColor="#034200";

											return false;
											};

					document.getElementById("carButton").onclick = function(){
												updateMod('car');
												resetButtonColor();
												document.getElementById("carButton").style.backgroundColor="#034200";

											return false;
											};

					document.getElementById("hybridChoices").onclick = function(){

												resetButtonColor();
												document.getElementById("hybridButton").style.backgroundColor="#034200";
												if(tmpmod1.checked)
													updateMod('pc'); 

												if(tmpmod2.checked)
													updateMod('cpc');

												if(tmpmod3.checked)
													updateMod('cp');

												$('#buttonCheckModal').modal('hide');
												return false;
											};

				</script>

			


				<! form>
				<form id="searchForm" style="padding-top:1vh;">
					<div class="form-group">
						<input id="spoint" type="text" class="form-control" placeholder="Starting point" >
					</div>
					<div class="form-group">
						<input  id="epoint" type="text" class="form-control" placeholder="Destination">
					</div>
					<button id="searchFormButton" type="submit" class="btn pull-right btn-default" float="right">Search</button>
				</form> 

				<! on submit call js function>
				<script> 
					document.getElementById("searchForm").onsubmit = function(){
						//setDefault();
						updateRoute(spoint,epoint);
						return false;
						};
				</script>

			<div class="container-fluid">
				<select class="dropdown" id="routeNum" onchange="changeRoute(routeNum)" style="max-width:400px;">
				  <!--option selected>Route to follow</option-->
				  <option  selected disabled value="0" for="routeNum" id="routeNum1" name="routeNum">Routes</option>
				  <option  hidden   disabled value="1" for="routeNum" id="routeNum2" name="routeNum"></option>
				  <option  hidden   disabled value="2" for="routeNum" id="routeNum3" name="routeNum"></option>
				</select>
			</div>


			<div class="col-sm-12" style="padding-bottom:2vh;" ><div class="directions" id="directions1"></div></div>


    </div>

	<div class="col-sm-9" id="map" style=map>
	<!div class="col-sm-9" id="map" style="width:100vw; height:75vh;"></div>
	<div style="padding-top:2vh;"><div class="directions" id="directions2"></div></div>


	<div class="menu" id="contextGoogleMapsMenu" style='width:120px;height:40px;'>
            <div class="menu-item" onclick="sPointSetMenu()" id='fromHere'>From here</div>
            <div class="menu-item" onclick="dPointSetMenu()" id='towardsHere'>Towards here</div>
   </div>

<! UP TO HERE ME TI METAFRASI >
<! Extra query settings sideNav>
				<div id="settingsSideNav" class="overlay" style="z-index=100;">
				  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()" id="closebtnNav">&times;</a>

						<div class="container" style="padding-top:3vh;align=center;background-color:#FFF; align-content: center;">
						<h2 id="transPrefHeader">Preferred Modes</h2>
						<form>
						  <input checked type="checkbox" id="vehicleBus" name="vehicleBus" value="bus">
						  <label for="bus" id="modBus">Bus</label><br>
						  <input checked type="checkbox" id="vehicleSubway" name="vehicleSubway" value="subway">
						  <label for="subway" id="modSubway">Subway</label><br>
						  <input checked type="checkbox" id="vehicleTrain" name="vehicleTrain" value="train">
						  <label for="train" id="modTrain">Train</label><br>
						  <input checked type="checkbox" id="vehicleTram" name="vehicleTram" value="tram">
						  <label for="tram" id="modTram">Tram</label><br>
						  <input checked type="checkbox" id="vehicleTrolley" name="vehicleTrolley" value="trolley">
						  <label for="trolley" id="modTrolley">Trolley</label><br>
						  <input checked type="checkbox" id="vehicleBoat" name="vehicleBoat" value="Boat">
						  <label for="Boat" id="modBoat">Boat</label><br>
						</form>
						</div>

						<div class="container" style="padding-top=3vh;align=center;background-color:#FFF; align-content: center;">
							<h2 id="headMaxWalkTime"></h2>
							<form id="fromSlider">
								<input type="range" min="0" max="60" value="30" step="5" class="slider" id="maxWalkTime" name="maxWalkTime" data-toggle="tooltip" title="">
							</form>
						</div>
	
						<script>
							var maxWT = document.getElementById("maxWalkTime");
						document.getElementById("maxWalkTime").onchange=function(){
							maxWT.title= maxWT.value;
							var headerMaxWT = document.getElementById("headMaxWalkTime");
							headerMaxWT.innerHTML = "Îœaximum walking time: "+ maxWT.value + "min";
						}
						</script>
						

						<div class="container" style="padding-top=3vh;align=center;background-color:#FFF; align-content: center;">
						<h2 id="headRoutesCheckBox">Routes</h2>
						<!form id="buttonCheckBox">
						<form>
						  <input checked type='radio' class='radio-button' name="routesCheckBox" value="eaCheckBox" id="eaCheckBox">
						  <label for="eaChecked" id="eaChecked">Earliest Arrival</label><br>
						  <input type='radio' class='radio-button' name="routesCheckBox" value="ldCheckBox" id="ldCheckBox">
						  <label for="ldChecked" id="ldChecked">Fewer transfers</label><br>
						</form>
						</div>




			<div class="container" style="padding-top=2vh;background-color:#FFF; align-content: center;">
				<select class="dropdown" id="labelDate" >
				  <!--option selected>Route to follow</option-->
					<option selected value="D" for="labelDate" id="labelDateD" name="labelDate">Departure</option>
					<option 			  value="A" for="labelDate" id="labelDateA" name="labelDate">Arrival</option>
				  
				</select>

				<form id="settingsDepArrDateTime">
					<label id="labelDateForm" for="dateModal">Date:</label>
					<input type="date" id="dateModal" name="dateModal"
							 min="2018-01-01" max="2100-12-31">

					<label id="labeTimeForm" for="timeModal">Time:</label>
					<input type="time" id="timeModal" name="timeModal">

				</form>

			</div>



						<div  class="container" style="padding-top:2vh;background-color:#FFF; align-content: center;">
							<!form onsubmit="updateSettings()">
							  <button type="submit" onclick="closeNav();updateSettings()" id='settingsNavSubmit' class="btn btn-default">Submit</button>
							<!/form>
					  </div>

				</div>


</body>
</html>
<script>
	$(document).ready(function(){
		var swidth = $( window ).width();
		var sheight = $( window ).height();
		cssDeviceChange(swidth,sheight);
	});


	$( window ).resize(function() {
		var swidth = $( window ).width();
		var sheight = $( window ).height();
		cssDeviceChange(swidth,sheight);
	});
</script>

